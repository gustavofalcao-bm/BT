<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Visão Gerencial - Base Telco</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
    <!-- Chart.js por CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <!-- Spinner global -->
    <div class="spinner" id="global-spinner" aria-hidden="true">
      <div class="spinner__ring"></div>
      <img class="spinner__logo" src="assets/images/bt-sigla.jpeg" alt="BT" />
    </div>

    <header class="app-header">
      <div class="app-header__brand">
        <img src="assets/images/base-telco.png" alt="Base Telco" class="brand__logo" />
        <span class="brand__title">Visão Gerencial</span>
      </div>
      <nav class="app-nav" aria-label="Navegação principal">
        <button class="btn btn--primary app-nav__item is-active" data-section="overview">Visão</button>
        <button class="btn btn--ghost app-nav__item" data-section="noc">NOC</button>
        <button class="btn btn--ghost app-nav__item" data-section="operacoes">Operações</button>
        <button class="btn btn--ghost app-nav__item" data-section="servicos">Serviços</button>
      </nav>
    </header>

    <section class="hero">
      <div class="hero__overlay"></div>
      <div class="hero__content">
        <h1 class="hero__title">Transformação digital, comunicação e desempenho</h1>
        <p class="hero__subtitle">Aproximar pessoas, potencializar resultados e dar visibilidade executiva às operações</p>
      </div>
    </section>

    <main class="container">
      <!-- Panorama: 3x3 KPIs -->
      <section id="overview" class="section is-visible" aria-labelledby="kpis-title">
        <h2 id="kpis-title" class="section__title">KPIs — Panorama</h2>
        <div class="kpi-grid kpi-grid--3x">
          <!-- NOC -->
          <article class="card kpi-card">
            <h3 class="kpi-card__title">NOC — Dentro do SLA</h3>
            <p class="kpi-card__value" id="ov-noc-in">--</p>
            <p class="kpi-card__meta" id="ov-noc-in-meta">Atualizando…</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">NOC — Fora do SLA</h3>
            <p class="kpi-card__value" id="ov-noc-out">--</p>
            <p class="kpi-card__meta" id="ov-noc-out-meta">Atualizando…</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">NOC — Total</h3>
            <p class="kpi-card__value" id="ov-noc-total">--</p>
            <p class="kpi-card__meta" id="ov-noc-total-meta">Atualizando…</p>
          </article>
          <!-- Operações (placeholders) -->
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Operações — Backlog</h3>
            <p class="kpi-card__value" id="ov-ops-backlog">--</p>
            <p class="kpi-card__meta" id="ov-ops-backlog-meta">Em construção</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Operações — Mudanças no prazo</h3>
            <p class="kpi-card__value" id="ov-ops-changes">--</p>
            <p class="kpi-card__meta" id="ov-ops-changes-meta">Em construção</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Operações — Eficiência</h3>
            <p class="kpi-card__value" id="ov-ops-eff">--</p>
            <p class="kpi-card__meta" id="ov-ops-eff-meta">Em construção</p>
          </article>
          <!-- Serviços -->
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Serviços — Relatórios no prazo</h3>
            <p class="kpi-card__value" id="ov-svc-reports">--</p>
            <p class="kpi-card__meta" id="ov-svc-reports-meta">Em construção</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Serviços — Implantações no prazo</h3>
            <p class="kpi-card__value" id="ov-svc-deploy-ok">--</p>
            <p class="kpi-card__meta" id="ov-svc-deploy-ok-meta">Em construção</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Serviços — Implantações em curso</h3>
            <p class="kpi-card__value" id="ov-svc-deploy-in">--</p>
            <p class="kpi-card__meta" id="ov-svc-deploy-in-meta">Cliente + etapa</p>
          </article>
        </div>
      </section>

      <!-- NOC detalhado -->
      <section id="noc" class="section" aria-labelledby="noc-title">
        <div class="section__header">
          <h2 id="noc-title" class="section__title">NOC</h2>
          <div class="filters">
            <button class="btn btn--toggle" data-month="current">Mês atual</button>
            <button class="btn btn--toggle" data-month="previous">Mês anterior</button>
            <span class="filters__info" id="noc-range-label">—</span>
          </div>
        </div>

        <div class="kpi-grid">
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Dentro do SLA (abertos)</h3>
            <p class="kpi-card__value" id="noc-in-sla">--</p>
            <p class="kpi-card__meta" id="noc-in-sla-meta">Atualizando…</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Fora do SLA (abertos)</h3>
            <p class="kpi-card__value" id="noc-out-sla">--</p>
            <p class="kpi-card__meta" id="noc-out-sla-meta">Atualizando…</p>
          </article>
          <article class="card kpi-card">
            <h3 class="kpi-card__title">Total (janel)</h3>
            <p class="kpi-card__value" id="noc-total">--</p>
            <p class="kpi-card__meta" id="noc-total-meta">Atualizando…</p>
          </article>
        </div>

        <div class="grid-2">
          <article class="card">
            <h3 class="card__title">Incidentes por mês</h3>
            <canvas id="chart-incidents"></canvas>
          </article>
          <article class="card">
            <h3 class="card__title">% SLA no prazo por mês</h3>
            <canvas id="chart-sla"></canvas>
          </article>
        </div>

        <article class="card" style="margin-top:16px">
          <h3 class="card__title">Tickets por cliente</h3>
          <ul id="noc-by-client" class="list"></ul>
        </article>

        <article class="card" style="margin-top:16px">
          <h3 class="card__title">SLAs fora do prazo — mês selecionado</h3>
          <ul id="noc-overdue-list" class="list"></ul>
        </article>
      </section>

      <!-- Operações -->
      <section id="operacoes" class="section" aria-labelledby="ops-title">
        <h2 id="ops-title" class="section__title">Operações</h2>
        <p class="section__hint">Placeholders de backlog, mudanças e eficiência até integrar a fonte oficial.</p>
      </section>

      <!-- Serviços -->
      <section id="servicos" class="section" aria-labelledby="svc-title">
        <h2 id="svc-title" class="section__title">Serviços</h2>

        <article class="card">
          <h3 class="card__title">Implantações</h3>
          <div class="table-wrap">
            <table class="table">
              <thead>
                <tr>
                  <th>Cliente</th><th>Status</th><th>Início</th><th>Previsão</th><th>SLA</th><th>Etapa</th>
                </tr>
              </thead>
              <tbody id="svc-implants-body"></tbody>
            </table>
          </div>
        </article>

        <article class="card" style="margin-top:16px">
          <h3 class="card__title">Saúde — Último contato</h3>
          <div class="table-wrap">
            <table class="table">
              <thead>
                <tr><th>Cliente</th><th>Último contato</th><th>Saúde</th></tr>
              </thead>
              <tbody id="svc-health-body"></tbody>
            </table>
          </div>
        </article>
      </section>
    </main>

    <footer class="app-footer">
      <small>© Base Telco — Dashboard Gerencial</small>
    </footer>

    <script src="assets/js/app.js"></script>
  </body>
</html>
